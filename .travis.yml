language: generic
sudo: required
dist: bionic
addons:
  apt:
    packages:
      - xvfb
      - python-dev
      - libffi-dev
      - libssl-dev
      - python-virtualenv
      - lua5.1
      - libpulse0
      - libsdl2-2.0-0
after_install:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
env:
  global:
  - XDG_DATA_HOME="$TRAVIS_BUILD_DIR/share"
script: make deploy
artifacts:
    paths:
      - ./build/hawkthorne-osx.zip
      - ./build/hawkthorne-win-x86_64.zip
      - ./build/hawkthorne.love
