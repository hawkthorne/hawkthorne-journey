language: general
sudo: required
dist: bionic
install:
  - sudo apt-get update -y
  - sudo apt-get install xvfb python-dev libffi-dev libssl-dev -y
  - sudo apt-get install python-virtualenv lua5.1 -y
after_install:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
env:
  global:
  - XDG_DATA_HOME="$TRAVIS_BUILD_DIR/share"
script: make deploy
addons:
  artifacts:
    paths:
      - ./build/hawkthorne-osx.zip
      - ./build/hawkthorne-win-x86_64.zip
      - ./build/hawkthorne.love
